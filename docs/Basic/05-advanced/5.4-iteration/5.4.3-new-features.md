---
title: "5.4.3 功能擴展"
order: 4
---

# 5.4.3 功能擴展：讓 AI 幫你添加新功能

經過本節學習，你將掌握：
- 常見的功能擴展方向和難度評估
- 用第三章學到的框架寫功能擴展 Prompt
- 添加新功能的安全流程
- 一個完整的功能添加實戰案例

## 功能擴展方向參考

收集完反饋後，你可能想給待辦清單加一些新功能。

下面是一些常見的擴展方向，按難度分類：

### 基礎級功能（推薦先嚐試）

| 功能 | 難度 | 說明 |
|------|------|------|
| 任務分類標籤 | ⭐⭐ | 給任務打上"工作"、"生活"、"學習"等標籤，可以按標籤篩選 |
| 優先級標記 | ⭐⭐ | 高/中/低優先級，用不同顏色區分 |
| 搜索功能 | ⭐⭐ | 任務多了之後能快速找到 |
| 深色模式 | ⭐⭐ | 晚上看着不刺眼 |

### 進階級功能（有一定挑戰）

| 功能 | 難度 | 說明 |
|------|------|------|
| 截止日期提醒 | ⭐⭐⭐ | 設置截止時間，過期任務標紅 |
| 任務排序 | ⭐⭐⭐ | 可以拖拽調整任務順序 |
| 數據導出 | ⭐⭐⭐ | 把任務列表導出成文件 |
| 簡單統計 | ⭐⭐⭐ | 顯示"本週完成了多少任務" |

建議從基礎級功能開始。成功添加一兩個之後，再挑戰進階級。

## 添加新功能的安全流程

在動手之前，有一個重要原則：

::: warning 黃金法則
**每次添加新功能前，先保存當前版本。**
:::

按照這個流程操作：

```
1. 確認當前版本能正常運行
       ↓
2. 用 GitHub Desktop 提交一次（Commit）
       ↓
3. 寫 Prompt 讓 AI 添加新功能
       ↓
4. 測試新功能
       ↓
5. 如果成功 → 再 Commit 一次
   如果失敗 → 回滾到上一版
```

這樣，即使新功能改崩了，你也能隨時恢復。（這就是 5.1 節學的版本管理的用處）

## 用 S.C.A.F.F. 框架寫功能擴展 Prompt

還記得第三章的 S.C.A.F.F. 框架嗎？添加新功能時同樣適用。

### 框架回顧

| 字母 | 含義 | 說明 |
|------|------|------|
| **S** | Situation（情境） | 當前項目是什麼樣的 |
| **C** | Challenge（挑戰） | 我想添加什麼功能 |
| **A** | Ask（請求） | 具體需要 AI 做什麼 |
| **F** | Format（格式） | 希望得到什麼樣的輸出 |
| **F** | Filter（過濾） | 有什麼限制條件 |

### 示例：添加分類標籤功能

```
【情境】
我有一個待辦清單項目，目前實現了：
- 添加任務
- 刪除任務
- 標記任務完成
- 使用 localStorage 保存數據

技術棧：HTML + CSS + JavaScript（純前端，沒有後端）

【挑戰】
我想給任務添加"分類標籤"功能。用戶可以：
1. 創建任務時選擇一個分類（工作/生活/學習）
2. 按分類篩選任務
3. 每個分類用不同的顏色顯示

【請求】
請幫我修改代碼實現這個功能。

【格式】
1. 先說明需要修改哪些部分
2. 給出修改後的完整代碼
3. 說明如何測試這個功能

【限制】
- 保持現有功能不變
- 使用現有的代碼風格
- 分類數據也要保存到 localStorage
```

## 各功能的 Prompt 模板

這裏提供幾個常用功能的 Prompt 模板，你可以直接複製使用，只需要把 `[方括號裏的內容]` 替換成你的實際情況。

### 優先級標記

```
我的待辦清單項目需要添加"優先級"功能：
- 每個任務可以設置優先級：高/中/低
- 高優先級用紅色標記，中優先級用黃色，低優先級用灰色
- 默認優先級是"中"
- 可以按優先級排序顯示（高的在上面）

當前項目技術棧：[HTML + CSS + JavaScript / 其他]
數據存儲方式：[localStorage / 其他]

請修改代碼實現這個功能，保持現有功能正常。
```

### 搜索功能

```
我的待辦清單需要添加搜索功能：
- 在任務列表上方添加一個搜索框
- 輸入關鍵詞時，即時篩選包含該關鍵詞的任務
- 搜索框爲空時顯示所有任務
- 搜索不區分大小寫

當前項目技術棧：[你的技術棧]

請給出實現代碼。
```

### 深色模式

```
我的待辦清單需要添加深色模式切換功能：
- 在頁面右上角添加一個切換按鈕（太陽/月亮圖標）
- 點擊可以在淺色/深色模式之間切換
- 記住用戶的選擇（下次打開還是同樣的模式）

當前的顏色方案：
- 背景色：[白色]
- 文字顏色：[黑色]
- 主題色：[藍色]

請給出實現代碼，包括深色模式的配色建議。
```

### 截止日期

```
我的待辦清單需要添加截止日期功能：
- 創建任務時可以選擇截止日期（可選，不是必填）
- 任務卡片上顯示截止日期
- 已過期的任務用紅色高亮顯示
- 今天到期的任務用黃色高亮顯示

當前項目技術棧：[你的技術棧]
數據存儲方式：[localStorage / 其他]

請給出實現代碼。
```

## 實戰案例：添加分類標籤

下面是一個完整的對話記錄，展示如何給待辦清單添加分類標籤功能。

### 第一輪：說明需求

你發送的 Prompt（使用上面的 S.C.A.F.F. 模板）後，AI 會返回修改方案和代碼。

### 第二輪：測試發現問題

測試後，你可能發現問題：

```
分類功能基本可以用了，但有個問題：
切換分類篩選時，如果當前分類下沒有任務，頁面是空白的，用戶會困惑。

請添加一個提示，當篩選結果爲空時顯示"暫無任務"。
```

### 第三輪：微調細節

```
現在"暫無任務"的提示可以顯示了，但文字顏色太淺，不太明顯。
請把提示文字改成灰色，並加粗顯示。
```

這就是迭代的過程：做一版 → 發現問題 → 再改進。

## 測試新功能的檢查清單

每次添加新功能後，用這個清單驗證：

- [ ] 新功能按預期工作
- [ ] 原有功能（添加、刪除、完成任務）仍然正常
- [ ] 刷新頁面後數據沒有丟失
- [ ] 在手機瀏覽器上也能正常顯示
- [ ] 沒有明顯的報錯（打開瀏覽器控制檯檢查）

全部通過後，記得用 GitHub Desktop 提交一次，記錄這個里程碑。

## 遇到問題時

如果 AI 給的代碼不能正常工作，可以這樣反饋：

```
你給的代碼運行後出現了問題：

【問題描述】
點擊分類篩選按鈕後，頁面變成空白，所有任務都不顯示了。

【錯誤信息】
打開瀏覽器控制檯，看到這個報錯：
Uncaught TypeError: Cannot read property 'filter' of undefined

【期望行爲】
點擊"工作"分類，應該只顯示標記爲"工作"的任務。

請幫我找出問題並修復。
```

提供具體的問題描述和錯誤信息，AI 更容易幫你解決。

## 本節要點

- 從基礎級功能開始，成功後再挑戰進階級
- 每次改代碼前先 Commit，改崩了能恢復
- 用 S.C.A.F.F. 框架寫功能擴展 Prompt
- 添加功能是一個迭代過程，一輪不行就多輪
- 測試通過後記得再 Commit 一次

::: tip 小步前進
不要一次性加太多功能。

每次只加一個，測試通過後再加下一個。

這樣出問題時，你能很快定位是哪個改動導致的。
:::

→ [5.4.4 代碼優化：讓 AI 幫你改進代碼質量](./5.4.4-optimize.md)
