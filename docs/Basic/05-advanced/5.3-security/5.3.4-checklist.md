---
title: "5.3.4 初學者安全檢查清單"
order: 6
---

# 5.3.4 初學者的安全檢查清單

經過本節學習，你將獲得：
- 一份可立即使用的安全檢查清單
- 不同場景下的檢查要點
- 快速檢查的實用技巧

## 提交代碼前檢查清單

每次準備將代碼上傳到 GitHub 或其他平臺之前，請檢查：

- [ ] **沒有硬編碼密鑰**：代碼裏沒有任何真實的密碼、API 密鑰或 Token
- [ ] **.env 已被忽略**：`.env` 文件已加入 `.gitignore`
- [ ] **沒有敏感日誌**：`console.log` 或調試語句中沒有輸出敏感信息
- [ ] **沒有測試數據泄露**：測試代碼中沒有使用真實的用戶數據或密鑰

## 部署前檢查清單

在將項目部署到互聯網之前，額外檢查：

- [ ] **環境變量已配置**：部署平臺上已正確設置所有需要的環境變量
- [ ] **調試模式已關閉**：生產環境沒有開啓 debug 模式
- [ ] **錯誤信息已簡化**：錯誤頁面不會暴露詳細的技術信息
- [ ] **HTTPS 已啓用**：網站使用 HTTPS 而非 HTTP

## 定期檢查清單

每隔一段時間（比如每月），回顧一下：

- [ ] **密鑰是否需要輪換**：長期使用的密鑰是否應該更換
- [ ] **依賴是否需要更新**：項目使用的庫是否有安全更新
- [ ] **權限是否合理**：API 密鑰的權限是否只包含必要的範圍

## 快速檢查技巧

### 方法一：搜索敏感關鍵詞

在你的代碼編輯器中，使用搜索功能查找這些關鍵詞：

```
password
secret
api_key
apiKey
token
sk-
pk-
AKIA
-----BEGIN
```

如果搜索結果中出現了看起來像真實密鑰的內容（而不是 `process.env.XXX` 這樣的引用），就需要處理。

### 方法二：檢查即將提交的文件

如果你使用 Git，在提交前運行：

```bash
git diff --cached
```

這會顯示你即將提交的所有更改。快速掃一眼，確認沒有敏感信息。

### 方法三：檢查 .gitignore 是否生效

確認敏感文件確實被忽略了：

```bash
git status
```

如果 `.env` 文件出現在列表中，說明它沒有被正確忽略。

## 常見問題處理

### 問題：我已經不小心提交了 .env 文件

**解決步驟**：

1. 首先，**立即更換所有泄露的密鑰**（這是最重要的）
2. 將 `.env` 加入 `.gitignore`
3. 從 Git 追蹤中移除該文件（但不刪除本地文件）：
   ```bash
   git rm --cached .env
   ```
4. 提交這個更改：
   ```bash
   git commit -m "移除敏感文件"
   ```

::: warning 重要提醒
即使你刪除了文件，Git 歷史中仍然保留着它。如果倉庫是公開的，密鑰已經泄露。

**必須更換密鑰，沒有例外。**
:::

### 問題：我不確定某個字符串是不是密鑰

判斷標準：

| 特徵 | 可能是密鑰 | 可能不是密鑰 |
|------|-----------|-------------|
| 長度 | 較長（20+ 字符） | 較短 |
| 內容 | 看起來隨機的字母數字 | 有明顯含義的單詞 |
| 前綴 | 有特定前綴如 `sk-`、`AKIA` | 普通前綴 |
| 位置 | 賦值給類似 `API_KEY` 的變量 | 普通變量 |

如果還是不確定，**寧可當作密鑰處理**。

## 養成習慣

安全檢查不需要花很多時間。一旦養成習慣，每次提交前花 30 秒掃一眼，就能避免大部分問題。

::: tip 一個好習慣
每次看到 AI 生成的代碼中有類似密鑰的長字符串，第一反應應該是："這是真實密鑰還是佔位符？"
:::

→ [5.3.5 AI 推薦的庫安全嗎](./5.3.5-slopsquatting.md)
