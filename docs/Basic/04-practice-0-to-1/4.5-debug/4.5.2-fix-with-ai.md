---
title: "4.5.2 用 AI 幫你修 AI 的代碼"
order: 3
---

# 4.5.2 用 AI 幫你修 AI 的代碼

經過本節學習，你將掌握：
- 向 AI 報告問題的標準流程
- 診斷、修復、驗證的三個 Prompt 模板
- 避免無效溝通的常見誤區

## Debug 的三步流程

用 AI 修復代碼問題，遵循「診斷 → 修復 → 驗證」的三步流程：

```
┌─────────┐    ┌─────────┐    ┌─────────┐
│  診斷   │ → │  修復   │ → │  驗證   │
│ 找到原因 │    │ 獲取方案 │    │ 確認解決 │
└─────────┘    └─────────┘    └─────────┘
```

每一步都有對應的 Prompt 模板。

## 第一步：診斷 Prompt

目標：讓 AI 幫你分析問題原因，而不是直接給修復代碼。

**診斷 Prompt 模板**：

```
我的待辦清單代碼出現了問題，請幫我分析原因。

【錯誤現象】
[描述你看到了什麼]

【控制檯報錯】
[粘貼完整的報錯信息，包括行號]

【相關代碼】
[粘貼報錯位置附近的代碼，大約 10-20 行]

請幫我分析：
1. 這個錯誤是什麼意思？
2. 最可能的原因是什麼？
3. 應該檢查哪些地方？

先不要給修復代碼，我想先理解問題。
```

**爲什麼先診斷**：直接讓 AI 修復，有時會「治標不治本」。先理解問題，你才能判斷 AI 的修復方案是否靠譜。

**診斷 Prompt 示例**：

```
我的待辦清單代碼出現了問題，請幫我分析原因。

【錯誤現象】
點擊添加按鈕後，任務沒有出現在列表中

【控制檯報錯】
Uncaught TypeError: Cannot read properties of undefined (reading 'push')
    at addTask (index.html:45:15)

【相關代碼】
function addTask() {
    const input = document.querySelector('.task-input');
    const taskText = input.value.trim();
    if (taskText) {
        tasks.push({ text: taskText, completed: false });
        renderTasks();
        input.value = '';
    }
}

請幫我分析：
1. 這個錯誤是什麼意思？
2. 最可能的原因是什麼？
3. 應該檢查哪些地方？

先不要給修復代碼，我想先理解問題。
```

## 第二步：修復 Prompt

目標：在理解問題後，讓 AI 提供修復方案。

**修復 Prompt 模板**：

```
根據剛纔的分析，請幫我修復這個問題。

【問題原因】
[用你自己的話複述 AI 分析的原因]

【修復要求】
1. 給出修復後的完整代碼
2. 用註釋標註修改的地方
3. 解釋爲什麼這樣修改能解決問題

【技術要求】
- 保持原有的代碼風格
- 不要改動其他功能
- 關鍵邏輯添加中文註釋
```

**修復 Prompt 示例**：

```
根據剛纔的分析，請幫我修復這個問題。

【問題原因】
tasks 變量在使用前沒有初始化，所以是 undefined，無法調用 push 方法

【修復要求】
1. 給出修復後的完整代碼
2. 用註釋標註修改的地方
3. 解釋爲什麼這樣修改能解決問題

【技術要求】
- 保持原有的代碼風格
- 不要改動其他功能
- 關鍵邏輯添加中文註釋
```

## 第三步：驗證 Prompt

目標：修改代碼後，讓 AI 幫你確認問題是否真正解決。

**驗證 Prompt 模板**：

```
我已經按照你的建議修改了代碼。請幫我驗證：

【修改後的代碼】
[粘貼修改後的代碼]

【當前狀態】
[描述現在的運行情況]

請確認：
1. 原來的問題是否解決了？
2. 修改是否引入了新的問題？
3. 還有什麼需要注意的地方？
```

## 有效信息採集清單

向 AI 報告問題時，提供的信息越完整，AI 的回答越準確。

**必須提供的信息**：

| 信息類型 | 說明 | 獲取方式 |
|---------|------|---------|
| 錯誤現象 | 發生了什麼 | 用自己的話描述 |
| 控制檯報錯 | 完整的報錯文本 | 從控制檯複製 |
| 相關代碼 | 報錯位置附近的代碼 | 根據行號定位 |

**建議提供的信息**：

| 信息類型 | 說明 | 獲取方式 |
|---------|------|---------|
| 你的操作步驟 | 做了什麼導致報錯 | 回憶並記錄 |
| 之前的狀態 | 報錯前代碼是否正常 | 回憶 |
| 已嘗試的方法 | 你做過哪些嘗試 | 記錄 |

## 常見溝通誤區

以下是一些無效的問題描述，以及如何改進：

### 誤區 1：描述太模糊

| 無效描述 | 有效描述 |
|---------|---------|
| "代碼不工作" | "點擊添加按鈕後，任務沒有出現在列表中" |
| "有個錯誤" | "控制檯顯示 TypeError: Cannot read properties of undefined" |
| "樣式有問題" | "任務列表的背景色消失了，變成了白色" |

### 誤區 2：不提供報錯信息

| 無效做法 | 有效做法 |
|---------|---------|
| "控制檯有報錯" | 複製完整的報錯信息，包括行號 |
| "我看到紅色文字" | 截圖或複製紅色文字的內容 |

### 誤區 3：一次問太多問題

| 無效做法 | 有效做法 |
|---------|---------|
| "添加不行，刪除也不行，刷新還丟數據" | 先解決一個問題，確認修復後再處理下一個 |

### 誤區 4：不提供代碼上下文

| 無效做法 | 有效做法 |
|---------|---------|
| "第 45 行有問題" | 粘貼第 40-50 行的代碼，讓 AI 看到上下文 |

## 快速修復話術

如果你想跳過診斷，直接讓 AI 修復，可以用這個精簡版話術：

```
我的待辦清單報錯了：

【現象】[一句話描述]
【報錯】[粘貼控制檯報錯]
【代碼】
[粘貼相關代碼]

請直接給我修復後的完整代碼。
```

**示例**：

```
我的待辦清單報錯了：

【現象】點擊添加按鈕沒反應
【報錯】Uncaught TypeError: Cannot read properties of undefined (reading 'push')
    at addTask (index.html:45:15)
【代碼】
function addTask() {
    const input = document.querySelector('.task-input');
    const taskText = input.value.trim();
    if (taskText) {
        tasks.push({ text: taskText, completed: false });
        renderTasks();
        input.value = '';
    }
}

請直接給我修復後的完整代碼。
```

## 本節要點

- Debug 遵循「診斷 → 修復 → 驗證」三步流程
- 診斷時先理解問題，不急於要修復代碼
- 提供完整信息：現象 + 報錯 + 代碼
- 避免模糊描述，一次只解決一個問題
- 快速修復話術適合簡單問題，複雜問題建議走完整流程

接下來，讓我們通過真實案例，看看這些方法如何應用。

→ [4.5.3 真實案例覆盤](./4.5.3-real-cases.md)
