---
title: "4.5.1 常見錯誤類型速查"
order: 2
---

# 4.5.1 常見錯誤類型速查

經過本節學習，你將掌握：
- 區分四類常見錯誤：語法錯誤、運行時錯誤、邏輯錯誤、樣式錯誤
- 閱讀瀏覽器控制檯的報錯信息
- 根據錯誤類型選擇正確的排查方向

## 打開控制檯：你的 Debug 第一步

控制檯是瀏覽器內置的「錯誤報告器」。當代碼出問題時，它會告訴你哪裏錯了。

| 系統 | 打開方式 |
|------|---------|
| Windows | 按 `F12`，點擊 **Console** 標籤 |
| Mac | 按 `Cmd + Option + J` |

打開後，你會看到一個面板。如果有紅色文字，那就是錯誤信息。

## 如何閱讀報錯信息

控制檯的報錯信息看起來像這樣：

```
Uncaught TypeError: Cannot read properties of undefined (reading 'push')
    at addTask (index.html:45:15)
    at HTMLButtonElement.<anonymous> (index.html:52:5)
```

這段信息告訴你三件事：

| 組成部分 | 含義 | 上面例子中的值 |
|---------|------|---------------|
| **錯誤類型** | 這是什麼類型的錯誤 | `TypeError` |
| **錯誤描述** | 具體出了什麼問題 | 試圖讀取 undefined 的 'push' 屬性 |
| **錯誤位置** | 錯誤發生在哪個文件的哪一行 | `index.html` 第 45 行 |

有了這些信息，你就能告訴 AI 準確的問題描述。

## 四類常見錯誤

### 第一類：語法錯誤（SyntaxError）

**什麼是語法錯誤**：代碼寫法不符合 JavaScript 的語法規則，就像寫作文時標點符號用錯了。

**典型報錯**：

```
Uncaught SyntaxError: Unexpected token '}'
```

```
Uncaught SyntaxError: missing ) after argument list
```

**常見原因**：

| 原因 | 示例 |
|------|------|
| 括號不匹配 | `function test( { }` 少了一個 `)` |
| 引號不匹配 | `let name = "小李;` 少了結束引號 |
| 多了或少了逗號 | `{name: "小李" age: 20}` 少了逗號 |
| 關鍵字拼寫錯誤 | `funtion` 寫成了 `funtion` |

**快速定位**：語法錯誤通常會指向具體行號，檢查那一行及其附近的括號、引號、逗號。

**修復 Prompt 模板**：
```
控制檯報錯：SyntaxError: [具體錯誤信息]
錯誤位置：第 X 行
請幫我檢查這一行附近的語法問題，找出缺失或多餘的符號。
```

### 第二類：運行時錯誤（TypeError / ReferenceError）

**什麼是運行時錯誤**：代碼語法沒問題，但運行時出了問題。就像食譜步驟正確，但冰箱裏沒有需要的食材。

**常見的運行時錯誤**：

| 錯誤類型 | 含義 | 典型報錯 |
|---------|------|---------|
| **TypeError** | 對一個值進行了不恰當的操作 | `Cannot read properties of undefined` |
| **ReferenceError** | 使用了一個不存在的變量 | `xxx is not defined` |

**待辦清單中的典型場景**：

**場景 1：變量是 undefined**
```
Uncaught TypeError: Cannot read properties of undefined (reading 'push')
```
原因：試圖對一個還沒有值的變量調用方法。比如任務列表 `tasks` 還沒初始化就調用了 `tasks.push()`。

**場景 2：函數未定義**
```
Uncaught ReferenceError: addTask is not defined
```
原因：調用了一個還沒有定義的函數。可能是函數名拼寫錯誤，或者代碼順序不對。

**快速定位**：查看報錯信息中提到的變量名或方法名，檢查它是否被正確定義和初始化。

**修復 Prompt 模板**：
```
控制檯報錯：TypeError: Cannot read properties of undefined (reading 'push')
錯誤位置：addTask 函數第 X 行

請幫我檢查：
1. 相關變量是否被正確初始化
2. 是否存在拼寫錯誤
3. 代碼執行順序是否正確
```

### 第三類：邏輯錯誤（無報錯但行爲異常）

**什麼是邏輯錯誤**：代碼能運行，控制檯也沒有紅色報錯，但結果不是你想要的。這是最難排查的一類錯誤。

**待辦清單中的典型場景**：

| 現象 | 可能原因 |
|------|---------|
| 點擊添加按鈕沒反應 | 事件監聽器沒有正確綁定 |
| 任務添加了但看不到 | 任務被添加到了錯誤的位置 |
| 刷新後數據丟失 | localStorage 保存邏輯沒有執行 |
| 標記完成但刷新後恢復 | 完成狀態沒有保存到 localStorage |
| 刪除按鈕刪錯了任務 | 任務索引計算錯誤 |

**快速定位**：由於沒有報錯信息，需要用「排除法」逐步縮小問題範圍。

**修復 Prompt 模板**：
```
我遇到了一個邏輯問題：
【現象】點擊添加按鈕後，任務沒有出現在列表中
【期望】任務應該出現在任務列表區域
【已確認】控制檯沒有報錯信息

請幫我檢查：
1. 事件監聽器是否正確綁定到按鈕
2. 添加任務的函數是否被調用
3. 新任務是否被正確添加到頁面的任務列表區域
```

### 第四類：樣式錯誤（CSS 問題）

**什麼是樣式錯誤**：功能正常，但頁面顯示不對。元素錯位、顏色不對、佈局混亂。

**待辦清單中的典型場景**：

| 現象 | 可能原因 |
|------|---------|
| 整個頁面樣式消失 | CSS 代碼被誤刪或有語法錯誤 |
| 任務列表擠成一團 | flex 或 grid 佈局設置錯誤 |
| 按鈕看不見 | 顏色與背景相同，或元素被隱藏 |
| 手機上顯示異常 | 缺少響應式設計 |

**快速定位**：使用瀏覽器的「元素檢查」功能（右鍵 → 檢查），查看元素的樣式是否生效。

**修復 Prompt 模板**：
```
頁面樣式出現問題：
【現象】任務列表區域的樣式全部消失，變成了純文本
【期望】任務應該有背景色、邊框和合理的間距

請幫我檢查 CSS 代碼，確保：
1. 樣式選擇器正確匹配 HTML 元素
2. CSS 語法沒有錯誤
3. 關鍵樣式屬性沒有被覆蓋
```

## 錯誤類型速查表

遇到問題時，用這張錶快速判斷屬於哪類錯誤：

| 判斷依據 | 錯誤類型 | 下一步行動 |
|---------|---------|-----------|
| 控制檯有 `SyntaxError` | 語法錯誤 | 檢查報錯行附近的括號、引號、逗號 |
| 控制檯有 `TypeError` 或 `ReferenceError` | 運行時錯誤 | 檢查報錯中提到的變量是否正確定義 |
| 控制檯沒有報錯，但功能不對 | 邏輯錯誤 | 描述現象和期望，讓 AI 幫你排查 |
| 功能正常，但顯示不對 | 樣式錯誤 | 用「檢查元素」查看 CSS 是否生效 |

## 本節要點

- 打開控制檯是 debug 的第一步，紅色文字就是錯誤信息
- 報錯信息包含三個關鍵部分：錯誤類型、錯誤描述、錯誤位置
- 四類錯誤各有特徵：語法錯誤有具體位置、運行時錯誤提到變量名、邏輯錯誤沒有報錯、樣式錯誤看頁面顯示
- 根據錯誤類型選擇對應的排查方向，能大大提高修復效率

接下來，我們學習如何用 AI 系統化地修復這些錯誤。

→ [4.5.2 用 AI 幫你修 AI 的代碼](./4.5.2-fix-with-ai.md)
