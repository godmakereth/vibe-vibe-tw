---
title: "4.3.1 功能一：添加任務"
order: 2
---

# 4.3.1 功能一：添加任務

> **本步目標**：讓用戶能夠輸入任務內容，點擊按鈕後任務出現在列表中

這是待辦清單最核心的功能——沒有它，其他功能都沒有意義。

## 🎯 我們要實現什麼

用戶的操作流程：

1. 在輸入框中輸入任務內容（比如"買牛奶"）
2. 點擊"添加"按鈕
3. "買牛奶"出現在下方的任務列表中
4. 輸入框自動清空，方便輸入下一個任務

## 📝 完整 Prompt

複製下面的 Prompt，發送給你的 AI IDE：

```
【背景】
我已經有一個待辦清單的靜態頁面（HTML + CSS）。
頁面包含：標題、輸入框、添加按鈕、任務列表區域。
現在需要添加 JavaScript 讓它能真正工作。

【當前任務】
請實現"添加任務"功能：
1. 用戶在輸入框輸入內容後，點擊"添加"按鈕
2. 輸入的內容作爲新任務，顯示在任務列表中
3. 每個任務顯示：任務內容 + "完成"按鈕 + "刪除"按鈕
4. 添加成功後，輸入框自動清空
5. 如果輸入框爲空，點擊添加按鈕不應該添加空任務

【技術要求】
- 使用原生 JavaScript，不使用任何框架
- 把 JavaScript 代碼寫在 HTML 文件底部的 <script> 標籤內
- 關鍵邏輯添加中文註釋，幫助我理解代碼

【我是初學者】
請保持代碼簡單易懂，變量命名要有描述性。
```

## ✅ 預期結果

發送 Prompt 後，AI 會給你更新後的代碼。替換你的 HTML 文件內容後，你應該看到：

**測試步驟**：
1. 在輸入框輸入"買牛奶"
2. 點擊"添加"按鈕
3. 檢查結果：

| 檢查項 | 預期效果 |
|-------|---------|
| 任務列表 | 出現"買牛奶"這個任務 |
| 輸入框 | 變成空的 |
| 按鈕 | 每個任務旁邊有"完成"和"刪除"按鈕 |

**再測試一次**：
1. 輸入框保持空白，直接點擊"添加"
2. 預期：不應該添加任何任務

## 🔍 檢查點

在繼續之前，確認以下幾點：

- [ ] 輸入內容後點擊添加，任務出現在列表中
- [ ] 添加後輸入框會清空
- [ ] 空輸入不會添加空任務
- [ ] 可以連續添加多個任務
- [ ] 頁面沒有報錯（按 F12 打開控制檯檢查）

## ⚠️ 常見問題排查

### 問題 1：點擊按鈕沒有任何反應

**可能原因**：JavaScript 代碼沒有正確加載，或者按鈕沒有綁定事件。

**排查步驟**：
1. 按 F12 打開瀏覽器開發者工具
2. 查看"控制檯"（Console）標籤頁
3. 如果有紅色報錯信息，複製給 AI

**修復 Prompt**：
```
點擊添加按鈕沒有反應。
控制檯報錯信息：[粘貼你看到的紅色文字]
請幫我修復這個問題。
```

### 問題 2：任務添加了但看不到

**可能原因**：任務被添加到了錯誤的位置，或者樣式有問題。

**修復 Prompt**：
```
我點擊添加後，輸入框清空了（說明代碼執行了），
但是任務列表裏看不到新任務。
請檢查代碼，確保新任務能正確顯示在任務列表區域。
```

### 問題 3：輸入框沒有清空

**修復 Prompt**：
```
添加任務功能可以用了，任務能顯示。
但有個問題：添加成功後，輸入框裏的文字沒有清空。
請修復這個問題。
```

### 問題 4：空輸入也能添加

**修復 Prompt**：
```
現在輸入框爲空時，點擊添加按鈕也會添加一個空的任務項。
請添加驗證：如果輸入框爲空或只有空格，不執行添加操作。
```

## 💡 技術小貼士：理解事件處理

你可能好奇 AI 寫的代碼是怎麼工作的。這裏用一個生活類比幫你理解：

**場景**：你在奶茶店等取餐

| 奶茶店場景 | 對應的代碼概念 |
|-----------|---------------|
| 叫號屏幕 | 按鈕元素 |
| "您的訂單好了" | 點擊事件（click） |
| 你聽到叫號去取餐 | 事件監聽器（addEventListener） |
| 拿走奶茶 | 事件處理函數（執行的代碼） |

AI 生成的代碼大概是這個結構：

```javascript
// 1. 找到按鈕（就像知道叫號屏在哪）
const addButton = document.querySelector('.add-btn');

// 2. 告訴按鈕：有人點你的時候，執行這個任務
addButton.addEventListener('click', function() {
    // 3. 這裏是點擊後要做的事情
    // - 獲取輸入框的內容
    // - 創建新的任務元素
    // - 把任務添加到列表
    // - 清空輸入框
});
```

你不需要記住這些代碼。只需要知道：**告訴 AI 你想要什麼效果，AI 會幫你寫對應的代碼**。

## 🎯 完成確認

如果你已經：
- ✅ 能成功添加新任務
- ✅ 添加後輸入框會清空
- ✅ 空輸入不會添加任務

恭喜！"添加"功能已經完成。

接下來，我們讓"刪除"按鈕也能工作。

→ [4.3.2 功能二：刪除任務](./4.3.2-delete-task.md)
