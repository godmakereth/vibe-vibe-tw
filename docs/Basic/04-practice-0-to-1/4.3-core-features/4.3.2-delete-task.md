---
title: "4.3.2 功能二：刪除任務"
order: 3
---

# 4.3.2 功能二：刪除任務

> **本步目標**：點擊任務旁邊的"刪除"按鈕，讓該任務從列表中消失

買錯了東西想劃掉？任務完成後想清理？刪除功能必不可少。

## 🎯 我們要實現什麼

用戶的操作流程：

1. 看到任務列表中有多個任務
2. 點擊某個任務旁邊的"刪除"按鈕
3. 該任務從列表中消失
4. 其他任務不受影響

## 📝 完整 Prompt

由於我們已經有了"添加任務"的代碼，現在是**在現有基礎上追加功能**。複製下面的 Prompt：

```
【當前狀態】
添加任務功能已經可以正常使用了。
現在請在此基礎上，添加刪除功能。

【需要實現】
當用戶點擊某個任務旁邊的"刪除"按鈕時：
1. 只刪除這一個任務
2. 列表中的其他任務保持不變
3. 刪除後不需要確認提示，直接刪除即可

【技術要求】
- 在現有代碼基礎上添加，不要重寫整個文件
- 保持代碼風格一致
- 關鍵邏輯添加中文註釋
```

::: tip 💡 增量式 Prompt
注意這個 Prompt 的開頭是"添加任務功能已經可以正常使用了"。這樣做是告訴 AI **當前的上下文**，避免它重寫已有的代碼。
:::

## ✅ 預期結果

**測試步驟**：
1. 先添加三個任務：任務A、任務B、任務C
2. 點擊"任務B"旁邊的刪除按鈕
3. 檢查結果：

| 檢查項 | 預期效果 |
|-------|---------|
| 任務B | 已經消失 |
| 任務A | 還在，位置不變 |
| 任務C | 還在，位置不變 |

**再測試**：
1. 繼續點擊"任務A"的刪除按鈕
2. 預期：任務A 消失，只剩任務C

## 🔍 檢查點

- [ ] 點擊刪除按鈕，對應任務消失
- [ ] 刪除一個任務不影響其他任務
- [ ] 可以連續刪除多個任務
- [ ] 刪除全部任務後，列表爲空（正常顯示）

## ⚠️ 常見問題排查

### 問題 1：點擊刪除後，所有任務都消失了

**可能原因**：刪除邏輯錯誤，清空了整個列表而不是單個任務。

**修復 Prompt**：
```
刪除功能有問題：我點擊一個任務的刪除按鈕後，所有任務都消失了。
應該只刪除我點擊的那一個任務。
請檢查刪除邏輯，確保只移除被點擊的那個任務元素。
```

### 問題 2：點擊刪除按鈕沒反應

**修復 Prompt**：
```
刪除按鈕點擊沒有反應。
我的任務是通過 JavaScript 動態添加的（不是寫死在 HTML 裏的）。
請確保對動態添加的元素也能正確綁定刪除事件。
```

### 問題 3：刪錯了任務（點A刪了B）

**修復 Prompt**：
```
刪除功能有問題：我點擊任務A的刪除按鈕，結果刪掉的是任務B。
請檢查代碼，確保刪除的是按鈕所在的那個任務，而不是其他任務。
```

## 💡 技術小貼士：動態元素的事件綁定

你可能會遇到一個有趣的問題：**爲什麼頁面加載時就存在的按鈕能點，但後來添加的任務的按鈕點不了？**

這就像一個比喻：

> 你在公司門口貼了一張通知"有事找前臺"。  
> 後來新來的員工沒看到這張通知，所以不知道有事該找誰。

代碼裏也是這樣：如果你在頁面加載時就給"刪除按鈕"綁定了事件，那只有**當時存在的按鈕**會響應。後來添加的新任務，它的刪除按鈕"沒見過"那個通知。

**解決方案**叫做"事件委託"——不是給每個按鈕單獨綁定事件，而是告訴它們的"父容器"：

> "如果有人點擊了你內部的刪除按鈕，就執行刪除操作"

這樣，無論是已有的還是後來添加的任務，點擊刪除按鈕都能正常工作。

AI 通常會自動處理這個問題，但如果遇到"新添加的任務刪除不了"的情況，把上面的問題 2 的 Prompt 發給 AI 就行。

## 🎯 完成確認

如果你已經：
- ✅ 能刪除指定的任務
- ✅ 刪除不影響其他任務
- ✅ 動態添加的任務也能刪除

刪除功能完成。

接下來是最後一個核心功能：標記任務完成。

→ [4.3.3 功能三：標記完成](./4.3.3-complete-task.md)
