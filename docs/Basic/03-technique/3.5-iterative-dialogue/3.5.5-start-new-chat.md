---
title: "3.5.5 知道何時開始新對話"
---

# 3.5.5 知道何時開始新對話

## 經過本節學習，你將掌握

- 識別「該開新對話」的三個信號
- 理解爲什麼「清新開始」有時比「繼續修補」更高效
- 學會「搬家」：把關鍵信息從舊對話帶到新對話
- 獲得一個可複製的新對話啓動模板

## 舊對話太長會怎樣？

在 3.5.4 中，我們講了上下文窗口的概念。當對話太長時，早期內容會被擠出窗口，導致 AI「失憶」。

但問題不止於此。即使內容沒被擠出，**太長的對話也會降低 AI 的表現**：

| 問題 | 原因 |
|-----|------|
| 回覆變慢 | 需要處理更多歷史信息 |
| 容易遺漏指令 | 關鍵信息淹沒在大量對話中 |
| 更容易出錯 | 歷史中的矛盾信息會干擾判斷 |
| 難以調試 | 你也很難回溯問題出在哪一輪 |

有時候，開一個新對話比在舊對話裏繼續掙扎更有效。

## 三個「該開新對話」的信號

### 信號一：對話超過 20 輪

這是一個經驗值。當對話輪次超過 20 輪（你發一條、AI 回一條算一輪），就應該考慮開新對話了。

```
爲什麼是 20 輪？
- 每輪對話平均 500-1000 tokens
- 20 輪 ≈ 10K-20K tokens
- 已經佔用了相當比例的上下文窗口
```

**例外情況**：如果你用的是大上下文窗口模型（如 Claude 200K），可以適當放寬到 30-40 輪。

### 信號二：AI 開始「忘記」早期約定

當你發現以下情況時，說明上下文管理已經失效：

```
❌ 你第 1 輪說用 TypeScript，AI 第 18 輪給你 JavaScript
❌ 你第 3 輪說不要用 any，AI 第 15 輪代碼裏全是 any
❌ 你問"按照之前的格式"，AI 問你"什麼格式？"
```

**判斷方法**：如果你發現自己需要反覆重申同一個約定（超過 3 次），就該開新對話了。

### 信號三：話題發生根本轉變

當你從一個任務轉向另一個完全不同的任務時，舊對話的歷史反而會干擾。

```
舊話題：實現用戶登錄功能
新話題：設計數據庫表結構

兩個話題關係不大，舊對話中的登錄代碼會佔用上下文空間，
卻對設計數據庫沒有幫助。
```

**經驗法則**：如果新任務和之前的對話內容沒有直接關聯，開新對話。

## 三個信號的速查表

| 信號 | 判斷標準 | 行動 |
|-----|---------|------|
| 輪次過多 | 超過 20 輪 | 考慮開新對話 |
| AI 失憶 | 反覆重申約定超過 3 次 | 立即開新對話 |
| 話題轉變 | 新任務與歷史無關 | 開新對話 |

## 如何「搬家」：把關鍵信息帶到新對話

開新對話不意味着從零開始。你需要把關鍵信息「搬」到新對話中。

### 第一步：從舊對話中提取關鍵信息

在舊對話結束前，讓 AI 幫你總結：

```markdown
請總結我們這次對話的關鍵信息，包括：
1. 項目的技術棧和約定
2. 已完成的功能列表
3. 當前的代碼結構
4. 遺留的問題或待辦事項

請用簡潔的 Markdown 格式輸出，方便我複製到新對話中。
```

### 第二步：保存總結

把 AI 的總結保存下來。可以：
- 複製到一個文本文件
- 保存到項目的 README 或 NOTES.md
- 直接記在腦子裏（如果內容不多）

### 第三步：在新對話中重建上下文

用提取的信息開始新對話：

```markdown
我要繼續開發一個待辦清單項目。以下是項目背景：

**技術棧**：
- React 18 + TypeScript
- Tailwind CSS
- Zustand 狀態管理

**已完成功能**：
1. 添加任務（帶空輸入驗證）
2. 刪除任務（帶確認提示）
3. 任務列表展示

**代碼結構**：
- src/components/AddTaskForm.tsx
- src/components/TaskList.tsx
- src/components/TaskItem.tsx
- src/store/taskStore.ts

**當前任務**：
實現任務編輯功能——點擊任務可以修改標題

請基於以上背景，幫我實現任務編輯功能。
```

## 可複製模板：新對話啓動 Prompt

### 通用模板

```markdown
我要繼續開發 [項目名稱]。以下是項目背景：

## 技術棧
- [技術1]
- [技術2]
- [技術3]

## 編碼約定
- [約定1]
- [約定2]
- [約定3]

## 已完成功能
1. [功能1]
2. [功能2]
3. [功能3]

## 代碼結構
- [目錄/文件1]：[用途]
- [目錄/文件2]：[用途]

## 本次任務
[詳細描述你要做的事情]

請基於以上背景開始。
```

### 簡化模板（適用於簡單項目）

```markdown
繼續開發 [項目名稱]，技術棧：[技術棧]。

已完成：[簡要列舉]
現在要做：[本次任務]

注意事項：
1. [約定1]
2. [約定2]
```

### 帶代碼上下文的模板

```markdown
我要繼續開發一個功能。以下是相關的現有代碼：

**現有組件**（TaskList.tsx）：
```tsx
// 這裏粘貼相關代碼片段
```

**現在需要**：
[描述你需要 AI 做的事情]

**請注意**：
- 保持和現有代碼風格一致
- [其他約定]
```

## 什麼時候不需要開新對話？

有時候舊對話還是更好的選擇：

| 情況 | 建議 | 原因 |
|-----|------|------|
| 對話還在 10 輪以內 | 繼續舊對話 | 歷史信息仍然有價值 |
| 正在調試一個 bug | 繼續舊對話 | 錯誤上下文很重要 |
| 功能實現到一半 | 繼續舊對話 | 避免重新解釋 |
| 需要引用之前的代碼 | 繼續舊對話 | 代碼在歷史中可直接引用 |

**核心原則**：如果舊對話的歷史對當前任務仍然有幫助，繼續用；如果已經變成負擔，果斷開新的。

## 「清新開始」的心理優勢

除了技術原因，開新對話還有心理上的好處：

```
舊對話：
"之前改了這麼多輪還沒改好，是不是我的問題..."

新對話：
"這是一個全新的開始，這次一定可以"
```

有時候，一個乾淨的起點能幫助你更清晰地思考問題。

## 實戰技巧：對話命名

很多 AI 工具支持給對話命名。善用這個功能：

```
❌ 默認命名："New Chat"、"Untitled"
✅ 有意義的命名："待辦清單-添加功能"、"待辦清單-刪除功能"
```

好的命名能幫你：
- 快速找到歷史對話
- 知道每個對話在做什麼
- 決定是繼續舊對話還是開新對話

## 本節要點

✓ **三個信號**：超過 20 輪、AI 反覆失憶、話題根本轉變

✓ **清新開始的價值**：有時比繼續修補更高效

✓ **搬家流程**：讓 AI 總結 → 保存 → 新對話中重建上下文

✓ **啓動模板**：用結構化的 Prompt 開始新對話，快速重建上下文

✓ **對話命名**：給對話起有意義的名字，便於管理

## 本章總結

恭喜你完成了 3.5 節「迭代對話的藝術」的學習。

回顧一下你學到了什麼：

| 小節 | 核心收穫 |
|-----|---------|
| 3.5.1 | 一次搞定是幻覺，迭代是常態 |
| 3.5.2 | 三階段模型：看方向 → 改問題 → 磨細節 |
| 3.5.3 | SBI 反饋框架，讓 AI 精準理解你的修改需求 |
| 3.5.4 | 四個上下文管理技巧 + 工具級配置 |
| 3.5.5 | 知道何時「搬家」，如何「搬家」 |

**一句話總結**：迭代不是失敗，而是通往成功的必經之路。

下一節（3.6），我們將學習當 AI「不聽話」時——輸出錯誤、產生幻覺、代碼有 bug——如何診斷問題並修正。
