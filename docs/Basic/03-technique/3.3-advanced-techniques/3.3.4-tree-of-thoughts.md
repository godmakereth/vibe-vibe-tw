---
title: "3.3.4 Tree of Thoughts：探索多條推理路徑"
---

# 3.3.4 Tree of Thoughts：探索多條推理路徑

> **定位說明**：這是一個可選的高級技巧。日常 Vibe Coding 中，大部分場景用 Zero-shot、Few-shot、CoT 已經足夠。Tree of Thoughts 主要用於**技術選型、架構決策**等需要對比多個方案的場景，約佔日常工作的 5%。如果你剛入門，可以先跳過本節，遇到需要時再回來查閱。

## 經過本節學習，你將掌握

- Tree of Thoughts（ToT）的定義和適用場景
- ToT 與 Chain of Thought 的區別
- 完整版和簡化版 ToT 的使用方法
- 什麼時候需要 ToT，什麼時候不需要

## 什麼是 Tree of Thoughts

Tree of Thoughts（思維樹，簡稱 ToT）的核心思想是：**讓 AI 探索多條可能的路徑，對比後選擇最優方案**。

如果把 Chain of Thought 比作「一條路走到底」，那 Tree of Thoughts 就是「先看看有哪幾條路，比較一下再決定走哪條」。

```
Chain of Thought（線性）：
問題 → 步驟1 → 步驟2 → 步驟3 → 答案

Tree of Thoughts（樹狀）：
問題 → 方案A → 評估A
     → 方案B → 評估B  → 對比 → 推薦最優
     → 方案C → 評估C
```

## ToT 與 CoT 的區別

| 維度 | Chain of Thought | Tree of Thoughts |
|-----|-----------------|------------------|
| 推理路徑 | 單一路徑 | 多條並行路徑 |
| 適用場景 | 有標準答案的問題 | 需要權衡對比的決策 |
| 輸出形式 | 分步推導到結論 | 多方案對比後推薦 |
| Token 消耗 | 中等 | 較高 |
| 日常使用頻率 | 高（約 30%） | 低（約 5%） |

**選擇建議**：
- 如果問題有「正確答案」→ 用 CoT
- 如果需要「選擇最優方案」→ 用 ToT

## 核心適用場景

ToT 最適合以下場景：

### 1. 技術選型

選擇數據庫、框架、第三方服務等。

### 2. 架構決策

設計系統架構、API 風格、數據模型等。

### 3. 方案對比

多種實現方式的優劣分析。

### 4. 複雜問題分解

需要從多個角度切入的問題。

## 差提示詞 vs 好提示詞

### 場景：爲待辦清單選擇數據存儲方案

### ❌ 差提示詞

```
我的待辦清單應用應該用什麼方式存儲數據？
```

**問題**：AI 可能只推薦一種方案，沒有對比分析。

### ✅ 好提示詞（使用 ToT）

```
我正在做一個個人待辦清單應用，需要選擇數據存儲方案。

項目背景：
- 用戶量：僅自己使用
- 數據量：預計幾百條任務
- 部署方式：靜態網頁託管（如 Vercel）
- 技術棧：React + TypeScript

請給出 3 種不同的存儲方案，對每種方案分析：
1. 實現複雜度（1-5分，5分最複雜）
2. 數據持久性
3. 是否需要後端
4. 適合的場景

最後，根據我的項目情況，推薦最適合的方案並說明理由。
```

### 好提示詞的 AI 輸出

```
## 方案分析

### 方案一：localStorage
- 實現複雜度：1分
- 數據持久性：僅本地瀏覽器，換設備丟失
- 是否需要後端：不需要
- 適合場景：個人工具、原型驗證

### 方案二：IndexedDB
- 實現複雜度：3分
- 數據持久性：本地瀏覽器，支持更大數據量
- 是否需要後端：不需要
- 適合場景：需要存儲大量結構化數據的本地應用

### 方案三：Supabase（雲數據庫）
- 實現複雜度：3分
- 數據持久性：雲端存儲，多設備同步
- 是否需要後端：不需要（BaaS 服務）
- 適合場景：需要多設備同步、有擴展計劃

## 推薦方案

根據你的情況（僅自己使用、幾百條數據、靜態託管），推薦 **方案一：localStorage**。

理由：
1. 實現最簡單，幾行代碼即可
2. 數據量小，localStorage 完全夠用
3. 不需要額外服務，符合靜態託管要求
4. 作爲 MVP 快速驗證，之後有需要再升級

如果後續需要多設備同步，可以再遷移到 Supabase。
```

## 實戰示例：登錄功能方案選型

小李的待辦清單需要添加登錄功能，他想對比幾種實現方式。

### ToT 提示詞

```
我的待辦清單應用需要添加用戶登錄功能。

項目背景：
- 個人項目，用戶量預計 < 100 人
- 技術棧：Next.js + TypeScript
- 部署在 Vercel
- 希望實現儘量簡單

請分析以下三種登錄方案：
1. 傳統用戶名密碼登錄
2. 手機驗證碼登錄
3. 第三方 OAuth 登錄（如 GitHub、Google）

對每種方案分析：
- 實現複雜度
- 用戶體驗
- 安全性
- 維護成本

最後推薦一種，並說明理由。
```

### AI 輸出要點

AI 會分析三種方案的優劣，並根據「個人項目、用戶量小、希望簡單」的背景，推薦最適合的方案（可能是第三方 OAuth，因爲不用自己管理密碼）。

## 簡化版 ToT：日常快速使用

如果不需要完整的多方案對比，可以用簡化版：

```
請給出 2-3 種不同的實現思路，簡要對比優缺點後推薦一種。
```

這種方式輸出更簡潔，適合日常快速決策。

### 簡化版示例

```
我想實現任務的拖拽排序功能，請給出 2-3 種實現思路，簡要對比後推薦一種。
技術棧：React + TypeScript
```

### 簡化版輸出

```
三種實現思路：

1. react-beautiful-dnd
   優點：功能完善，動畫流暢
   缺點：包體積大，已停止維護

2. @dnd-kit
   優點：現代化設計，體積小，維護活躍
   缺點：學習曲線稍陡

3. 原生 HTML5 Drag API
   優點：無依賴
   缺點：需要大量代碼，動畫效果需自己實現

推薦：@dnd-kit
理由：現代化、輕量、社區活躍，適合長期維護的項目。
```

## 什麼時候不需要 ToT

| 場景 | 用 ToT？ | 原因 |
|-----|---------|------|
| 實現一個具體功能 | ❌ | 直接寫代碼即可 |
| 修復一個 Bug | ❌ | 用 CoT 逐步排查 |
| 格式化輸出 | ❌ | 用 Few-shot |
| 技術選型 | ✅ | 需要對比多個選項 |
| 架構設計 | ✅ | 需要權衡多種方案 |

**判斷標準**：如果你心裏已經有了大致方向，只是想確認，不需要 ToT。如果你需要 AI 幫你「做選擇」，用 ToT。

## 可複製模板

### 完整版 ToT 模板

```markdown
我需要 [決策內容]。

項目背景：
- [背景信息1]
- [背景信息2]
- [關鍵約束]

請給出 [數量] 種不同的方案，對每種方案分析：
1. [評估維度1]
2. [評估維度2]
3. [評估維度3]
4. [評估維度4]

最後，根據我的項目情況，推薦最適合的方案並說明理由。
```

### 簡化版 ToT 模板

```markdown
我想 [實現目標]。
背景：[簡要背景]

請給出 2-3 種不同的思路，簡要對比優缺點後推薦一種。
```

### 技術選型專用模板

```markdown
我需要選擇 [選型類型：數據庫/框架/第三方服務]。

項目情況：
- 規模：[用戶量/數據量]
- 技術棧：[現有技術]
- 部署方式：[部署環境]
- 團隊情況：[技術水平/人數]

評估維度：
- 實現複雜度
- 性能表現
- 維護成本
- 社區生態

請對比 [候選方案列表]，推薦最適合的選擇。
```

## 本節要點

✓ **ToT 的本質**：探索多條路徑，對比後選擇最優方案

✓ **與 CoT 的區別**：CoT 是單路徑推理，ToT 是多方案對比

✓ **適用場景**：技術選型、架構決策、方案對比（約佔 5%）

✓ **簡化版**：日常快速使用「給出 2-3 種思路，對比後推薦」

✓ **不要濫用**：如果已有方向，直接執行即可

下一節，我們學習如何讓 AI 自我檢查——Self-Critique。
