---
title: "A.3 問題解決類模板"
---

# A.3 問題解決類模板

本節提供排查問題和尋求幫助的 Prompt 模板，覆蓋錯誤排查、技術選型、概念解釋等場景。


## 模板一：運行時錯誤排查

適用於：代碼報錯、程序崩潰、控制檯報紅

```markdown
## 錯誤信息

運行時遇到以下錯誤：

```
[完整粘貼錯誤信息，包括堆棧跟蹤]
```

## 觸發場景

**操作步驟**：
1. [第一步做了什麼]
2. [第二步做了什麼]
3. [然後就報錯了]

**觸發頻率**：[每次都報錯/偶爾報錯/特定條件下報錯]

## 相關代碼

錯誤指向的代碼：
```[語言]
[粘貼錯誤信息中提到的代碼，以及上下文]
```

## 環境信息

- 運行環境：[瀏覽器版本/Node.js 版本/Python 版本]
- 框架版本：[React 18/Vue 3/...]
- 操作系統：[Windows/Mac/Linux]

## 已嘗試的方法

1. [嘗試1]：結果 [成功/失敗/部分解決]
2. [嘗試2]：結果 [成功/失敗/部分解決]

## 請幫我

1. 分析錯誤的根本原因
2. 給出修復方案
3. 解釋爲什麼會出現這個問題（幫助我理解）
```

### 填寫示例

```markdown
## 錯誤信息

運行時遇到以下錯誤：

```
TypeError: Cannot read properties of undefined (reading 'map')
    at TaskList (TaskList.tsx:15:23)
    at renderWithHooks (react-dom.development.js:14985:18)
    at mountIndeterminateComponent (react-dom.development.js:17811:13)
```

## 觸發場景

**操作步驟**：
1. 打開應用首頁
2. 頁面加載時直接報錯
3. 任務列表沒有顯示出來

**觸發頻率**：每次刷新頁面都報錯

## 相關代碼

錯誤指向的代碼：
```tsx
// TaskList.tsx
function TaskList({ tasks }) {
  return (
    <ul>
      {tasks.map(task => (          // 第 15 行
        <li key={task.id}>{task.title}</li>
      ))}
    </ul>
  );
}

// App.tsx 中的調用
function App() {
  const [tasks, setTasks] = useState();  // 注意這裏
  
  return <TaskList tasks={tasks} />;
}
```

## 環境信息

- 運行環境：Chrome 120
- 框架版本：React 18.2.0 + TypeScript 5.0
- 操作系統：Mac

## 已嘗試的方法

1. 檢查 tasks 數據：console.log 發現是 undefined
2. 刷新頁面：問題依舊

## 請幫我

1. 分析錯誤的根本原因
2. 給出修復方案
3. 解釋爲什麼會出現這個問題
```


## 模板二：邏輯錯誤分析

適用於：代碼能跑但結果不對

```markdown
## 問題描述

代碼可以運行，但結果不符合預期。

**期望行爲**：[應該是什麼結果]
**實際行爲**：[實際得到什麼結果]

## 測試用例

| 輸入 | 期望輸出 | 實際輸出 | 是否正確 |
|-----|---------|---------|---------|
| [輸入1] | [期望1] | [實際1] | ❌ |
| [輸入2] | [期望2] | [實際2] | ❌ |
| [輸入3] | [期望3] | [實際3] | ✅ |

## 相關代碼

```[語言]
[粘貼相關代碼]
```

## 我的分析

我懷疑問題可能出在：[你的猜測]

## 請幫我

1. 找出邏輯錯誤所在
2. 解釋爲什麼當前邏輯會產生錯誤結果
3. 給出修復後的代碼
```

### 填寫示例

```markdown
## 問題描述

代碼可以運行，但結果不符合預期。

**期望行爲**：計算購物車總價時，滿 100 減 20
**實際行爲**：無論金額多少，都減了 20

## 測試用例

| 輸入（商品總價） | 期望輸出 | 實際輸出 | 是否正確 |
|---------------|---------|---------|---------|
| 150 | 130 | 130 | ✅ |
| 80 | 80 | 60 | ❌ |
| 100 | 80 | 80 | ✅ |

## 相關代碼

```javascript
function calculateTotal(items) {
  let total = items.reduce((sum, item) => sum + item.price, 0);
  
  // 滿 100 減 20
  if (total > 100) {
    total = total - 20;
  } else {
    total = total - 20;  // 問題可能在這裏？
  }
  
  return total;
}
```

## 我的分析

我懷疑問題可能出在：else 分支也減了 20，應該是複製粘貼時忘記刪掉

## 請幫我

1. 確認我的分析是否正確
2. 給出修復後的代碼
3. 建議如何避免這類複製粘貼錯誤
```


## 模板三：技術選型諮詢

適用於：不知道選什麼庫、框架、工具

```markdown
## 項目背景

**項目類型**：[簡述項目是做什麼的]
**技術棧**：[當前使用的技術]
**團隊情況**：[個人項目/團隊規模/技術水平]

## 選型需求

我需要選擇一個 [類型] 來實現 [功能]。

**核心需求**：
- [需求1]
- [需求2]
- [需求3]

**考慮因素**：
| 因素 | 重要程度 | 說明 |
|-----|---------|------|
| 學習成本 | 高/中/低 | [說明] |
| 社區活躍度 | 高/中/低 | [說明] |
| 性能 | 高/中/低 | [說明] |
| 包體積 | 高/中/低 | [說明] |
| 長期維護 | 高/中/低 | [說明] |

## 已知候選（可選）

我目前瞭解到的選項有：
1. [選項A]：[簡單印象]
2. [選項B]：[簡單印象]
3. [選項C]：[簡單印象]

## 請幫我

1. 補充我可能遺漏的候選方案
2. 從多個維度對比各方案的優缺點
3. 給出推薦方案及理由
4. 說明什麼情況下應該選擇其他方案
```

### 填寫示例

```markdown
## 項目背景

**項目類型**：個人博客網站
**技術棧**：Next.js + TypeScript
**團隊情況**：個人項目，前端熟練，後端初學

## 選型需求

我需要選擇一個數據庫方案來存儲博客文章。

**核心需求**：
- 存儲文章內容（Markdown 格式）
- 支持分類和標籤
- 能按時間排序查詢

**考慮因素**：
| 因素 | 重要程度 | 說明 |
|-----|---------|------|
| 學習成本 | 高 | 後端不熟，希望上手簡單 |
| 免費額度 | 高 | 個人項目，不想花錢 |
| 與 Next.js 集成 | 中 | 希望有現成教程 |
| 性能 | 低 | 博客訪問量不大 |

## 已知候選

我目前瞭解到的選項有：
1. Supabase：聽說是 Firebase 替代品
2. MongoDB Atlas：NoSQL 數據庫
3. PlanetScale：MySQL 雲服務

## 請幫我

1. 補充我可能遺漏的候選方案
2. 從多個維度對比各方案的優缺點
3. 給出推薦方案及理由
4. 說明什麼情況下應該選擇其他方案
```


## 模板四：概念解釋

適用於：不理解某個技術概念

```markdown
## 想了解的概念

我想理解 [概念名稱]。

## 當前困惑

**我目前的理解**：[你現在認爲它是什麼]
**困惑的地方**：[哪裏不理解]

## 希望的解釋方式

**技術深度**：[只要知道怎麼用/想了解原理/需要深入細節]
**類比偏好**：[喜歡生活化類比/喜歡技術類比/直接解釋就好]

## 相關背景

**我的技術背景**：[熟悉什麼技術/語言]
**爲什麼要了解這個**：[應用場景]

## 請幫我

1. 用通俗的語言解釋這個概念
2. 給出一個簡單的代碼示例
3. 說明什麼時候會用到它
4. 指出常見的理解誤區
```

### 填寫示例

```markdown
## 想了解的概念

我想理解 React 中的 useEffect。

## 當前困惑

**我目前的理解**：好像是用來處理"副作用"的，但不知道什麼算副作用
**困惑的地方**：
- 什麼時候需要用 useEffect？
- 依賴數組是幹什麼的？
- 爲什麼有時候會"無限循環"？

## 希望的解釋方式

**技術深度**：只要知道怎麼用就行，原理以後再說
**類比偏好**：喜歡生活化類比

## 相關背景

**我的技術背景**：會基礎 JavaScript，正在學 React
**爲什麼要了解這個**：想在組件加載時獲取數據

## 請幫我

1. 用通俗的語言解釋 useEffect
2. 給出"獲取數據"的代碼示例
3. 說明依賴數組的作用
4. 解釋爲什麼會"無限循環"以及如何避免
```


## 模板五：代碼審查

適用於：讓 AI 檢查代碼質量

```markdown
## 審查目標

請幫我審查以下代碼：

```[語言]
[粘貼代碼]
```

## 審查維度

請從以下維度檢查：

- [ ] **功能正確性**：邏輯是否正確，邊界情況是否處理
- [ ] **安全性**：是否有安全隱患（XSS、SQL注入等）
- [ ] **性能**：是否有明顯的性能問題
- [ ] **可讀性**：命名是否清晰，結構是否合理
- [ ] **可維護性**：是否容易擴展和修改
- [ ] **錯誤處理**：異常情況是否妥善處理

## 代碼背景

**這段代碼的作用**：[簡述功能]
**使用場景**：[在什麼情況下運行]

## 輸出格式

請按以下格式輸出：

1. **問題清單**：列出發現的問題，按嚴重程度排序
2. **改進建議**：針對每個問題給出具體建議
3. **優化後代碼**：給出改進後的完整代碼
```


## 精簡版：快速提問模板

當問題比較簡單時，可以用這個精簡版：

```markdown
**問題**：[一句話描述問題]

**背景**：[必要的上下文]

**代碼**：
```[語言]
[相關代碼]
```

**期望**：[你希望得到什麼幫助]
```


## 提問技巧：如何讓回答更有用

### 技巧一：先說結論，再給細節

```markdown
❌ 我有一個 React 項目，用的是 TypeScript，然後我在做一個表單驗證...
   （AI 讀了半天還不知道問題是什麼）

✅ 我的表單驗證代碼報錯了。
   技術棧是 React + TypeScript，錯誤信息是 [xxx]。
```

### 技巧二：給出最小復現代碼

不要貼整個文件，只貼**能復現問題的最小代碼**。這樣 AI 更容易定位問題。

### 技巧三：說明已經嘗試過什麼

這能幫助 AI 避免給出你已經試過的無效方案。


## 常見填寫誤區

| 誤區 | 問題 | 正確做法 |
|-----|------|---------|
| 只說"不工作" | AI 不知道具體症狀 | 描述期望 vs 實際的差異 |
| 錯誤信息只截一半 | 丟失關鍵信息 | 完整粘貼，包括堆棧跟蹤 |
| 不給代碼 | AI 只能猜測 | 貼出相關代碼片段 |
| 概念問題太寬泛 | "解釋一下 JavaScript" | 具體到某個點，如"解釋閉包" |


## 本節要點

- ✅ **錯誤排查**：完整錯誤信息 + 觸發步驟 + 相關代碼 + 已嘗試方法
- ✅ **邏輯錯誤**：用測試用例展示"期望 vs 實際"
- ✅ **技術選型**：明確需求優先級 + 列出考慮因素
- ✅ **概念解釋**：說明當前理解和困惑點 + 期望的解釋深度
