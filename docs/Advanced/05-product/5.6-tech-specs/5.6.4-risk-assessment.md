---
title: "5.6.4 提前想想會出什麼錯——風險評估：技術風險與緩解措施"
typora-root-url: ../../public
---

# 5.6.4 提前想想會出什麼錯——風險評估

### 一句話破題

風險評估就是提前問自己：**什麼可能出錯？出錯了怎麼辦？**

### 風險評估的意義

```
沒有風險評估：
  開發到一半發現 → 技術選型有問題 → 推倒重來

有風險評估：
  開發前就發現 → 調整方案或準備備選 → 平穩推進
```

### 常見技術風險類型

| 風險類型 | 示例 | 影響程度 |
|----------|------|----------|
| **技術可行性** | 第一次用某個技術 | 高 |
| **性能風險** | 擔心扛不住流量 | 中 |
| **安全風險** | 認證、數據泄露 | 高 |
| **依賴風險** | 第三方服務不可用 | 中 |
| **時間風險** | 工作量低估 | 中 |

### 風險評估模板

```markdown
## 風險評估

### 風險 1：Prisma 不熟悉
- **概率**：高（第一次使用）
- **影響**：中（可能需要更多時間）
- **緩解措施**：
  - 先做一個小 demo 熟悉 API
  - 準備好官方文檔作爲參考
  - 複雜操作讓 AI 協助

### 風險 2：圖片上傳性能
- **概率**：低
- **影響**：中
- **緩解措施**：
  - 前端壓縮後再上傳
  - 使用 CDN 加速
  - 設置文件大小限制

### 風險 3：用戶量突增
- **概率**：低（初期）
- **影響**：高
- **緩解措施**：
  - 使用 Vercel 自動擴容
  - 數據庫連接池
  - 添加緩存層（後續）
```

### 風險矩陣

```
             高影響
               ↑
       ┌───────┼───────┐
       │ 關注  │ 優先  │
       │       │ 處理  │
       ├───────┼───────┤
       │ 接受  │ 關注  │
       │       │       │
       └───────┼───────┘
    低概率 ←───┼───→ 高概率
               │
             低影響
```

| 象限 | 行動 |
|------|------|
| 高概率 + 高影響 | 優先處理，制定詳細緩解計劃 |
| 高概率 + 低影響 | 關注，準備簡單應對方案 |
| 低概率 + 高影響 | 關注，準備應急預案 |
| 低概率 + 低影響 | 接受風險，出問題再處理 |

### 實際案例：博客系統風險

```markdown
## 博客系統技術風險評估

### 高優先級風險
| 風險 | 概率 | 影響 | 緩解措施 |
|------|------|------|----------|
| 認證實現不當 | 中 | 高 | 使用成熟的 next-auth |
| 密碼存儲不安全 | 中 | 高 | 使用 bcrypt 加密 |

### 中優先級風險
| 風險 | 概率 | 影響 | 緩解措施 |
|------|------|------|----------|
| 首頁加載慢 | 中 | 中 | SSG + CDN |
| 數據庫查詢慢 | 低 | 中 | 添加索引 |

### 低優先級風險
| 風險 | 概率 | 影響 | 緩解措施 |
|------|------|------|----------|
| Markdown 解析問題 | 低 | 低 | 用成熟庫 |
```

### 風險應對策略

針對不同風險，有不同的應對方式：

| 策略 | 說明 | 適用場景 |
|------|------|----------|
| **規避** | 換一種方案 | 風險太大不值得冒 |
| **轉移** | 用第三方服務 | 不想自己承擔 |
| **緩解** | 降低概率或影響 | 必須面對但可以準備 |
| **接受** | 承認風險存在 | 影響小或成本低 |

### 讓 AI 幫你發現風險

```
你：分析這個博客系統技術方案可能有什麼風險

AI：## 潛在技術風險

### 安全風險
1. **XSS 攻擊**：Markdown 渲染時可能執行惡意腳本
   - 緩解：使用 sanitize-html 清洗輸出

2. **CSRF 攻擊**：POST 接口可能被跨站調用
   - 緩解：next-auth 自帶 CSRF 保護

### 性能風險
1. **N+1 查詢**：列表頁加載作者信息
   - 緩解：使用 Prisma include 預加載

2. **大文件上傳**：內存溢出
   - 緩解：限制文件大小，使用流式上傳

### 依賴風險
1. **Vercel 免費額度用盡**
   - 緩解：監控用量，準備備選方案
```

### 實用建議

1. **列出所有擔心的點**：寧可多想不要遺漏
2. **評估概率和影響**：不是所有風險都需要處理
3. **每個風險都要有對策**：哪怕是"接受"
4. **新技術先做 Spike**：寫個小 demo 驗證可行性
