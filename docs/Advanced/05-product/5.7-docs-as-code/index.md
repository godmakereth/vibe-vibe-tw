---
title: "5.7 別讓文檔爛尾——文檔即代碼：目錄與 PR 同步更新"
typora-root-url: ../../public
---

# 5.7 別讓文檔爛尾——文檔即代碼

### 文檔的困境

大多數項目的文檔都面臨同樣的問題：

```
項目剛開始 → 認真寫文檔
開發中期   → 偶爾更新
項目上線   → 文檔過時
幾個月後   → 文檔和代碼完全對不上
```

### 文檔即代碼的理念

**Docs as Code**：把文檔當作代碼來管理。

| 代碼實踐 | 文檔實踐 |
|----------|----------|
| 放在 Git 倉庫 | 文檔也放 Git |
| PR 必須 review | 文檔也要 review |
| 有 CI 檢查 | 文檔也用 CI 檢查 |
| 改代碼提 PR | 改代碼時順便改文檔 |

### 爲什麼要文檔即代碼

```mermaid
graph LR
    A["改了代碼"] --> B["同一個 PR"]
    B --> C["更新文檔"]
    C --> D["一起 review"]
    D --> E["一起合併"]
```

好處：
- **同步更新**：代碼和文檔在同一個 PR
- **版本對應**：每個版本的代碼有對應的文檔
- **可追溯**：文檔變更歷史清晰可查
- **自動化**：CI 可以檢查文檔完整性

### 本節目標

學完本節，你將掌握：

1. **目錄結構**：如何組織文檔，讓它與代碼結構對應
2. **PR 流程**：如何在代碼變更時同步更新文檔
3. **版本控制**：如何用 Git 管理文檔歷史
4. **自動化檢查**：如何用 CI 驗證文檔完整性

### 獨立開發者的文檔策略

對於一個人的項目，可以簡化但不能放棄：

| 完整團隊 | 獨立開發者 |
|----------|------------|
| 詳細的 API 文檔 | 關鍵接口的說明 |
| 架構設計文檔 | 簡單的結構說明 |
| 開發規範文檔 | 記在 README |
| 用戶手冊 | 關鍵功能說明 |

**核心原則**：記錄**未來的自己**會忘記的東西。
