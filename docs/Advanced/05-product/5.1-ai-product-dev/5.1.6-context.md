---
title: "5.1.6 如何讓 AI 記住你的項目——上下文管理策略"
typora-root-url: ../../public
---

# 5.1.6 如何讓 AI 記住你的項目——上下文管理策略

### 一句話破題

AI 的"記憶"是有限的，**有效組織和投餵上下文**是高效協作的關鍵。

### 理解 AI 的"記憶"限制

AI 並不真的"記住"你的項目。每次對話，它只能看到：
1. **當前對話歷史**（有 token 數量限制）
2. **你主動提供的文件內容**
3. **工具讀取的代碼片段**

```mermaid
graph LR
    A["你的整個項目\n100+ 文件"] --> B["AI 能看到的\n當前對話 + 選中文件"]
    B --> C["AI 的理解\n基於有限上下文"]
```

### 上下文管理的三個層次

#### 層次一：項目級上下文

在項目根目錄創建一個 `CONTEXT.md` 或 `AI_INSTRUCTIONS.md` 文件：

```markdown
# 項目概述
這是一個博客系統，使用 Next.js 16 + Prisma + PostgreSQL

# 技術規範
- 使用 App Router，不使用 Pages Router
- 樣式統一使用 Tailwind CSS
- 數據庫操作統一使用 Prisma
- API 遵循 RESTful 規範

# 目錄結構
- app/：頁面和 API 路由
- components/：可複用組件
- lib/：工具函數
- prisma/：數據庫 schema

# 代碼規範
- 組件使用 PascalCase 命名
- 文件使用 kebab-case 命名
- 優先使用服務器組件
```

#### 層次二：模塊級上下文

在複雜模塊目錄下創建 `README.md`：

```markdown
# 用戶認證模塊

## 功能
- 郵箱密碼登錄
- 第三方 OAuth（GitHub、Google）
- JWT Token 管理

## 相關文件
- app/api/auth/：認證相關 API
- lib/auth.ts：認證工具函數
- middleware.ts：路由保護
```

#### 層次三：任務級上下文

每次對話開始時，提供當前任務的上下文：

```
當前任務：實現文章搜索功能

相關文件：
- app/api/posts/route.ts（已有文章列表 API）
- prisma/schema.prisma（Post 模型）

需求：在 GET /api/posts 接口增加 search 參數，
支持按標題和內容模糊搜索
```

### 實用技巧

#### 1. 使用 @ 引用文件

在 Cursor 等 AI IDE 中，使用 `@文件名` 快速引入上下文：

```
@schema.prisma @route.ts 
請在這個基礎上添加分類功能
```

#### 2. 創建上下文快照

在重要節點保存當前狀態的描述：

```markdown
## 2024-01-15 狀態快照

### 已完成
- 用戶註冊登錄
- 文章 CRUD
- 基本 UI

### 進行中
- 評論功能

### 待開始
- 搜索
- RSS
```

#### 3. 分段投餵

如果上下文太長，分成多次投餵：

```
第一次：我要給你介紹一下項目背景...
第二次：這是相關的數據模型...
第三次：現在請幫我實現這個功能...
```

### 常見問題

**Q：AI 忘記了之前說過的內容怎麼辦？**

A：重新提供關鍵信息，或者在新對話開始時先總結之前的進展。

**Q：項目太大，AI 無法理解全貌怎麼辦？**

A：只提供與當前任務相關的文件，不需要讓 AI 瞭解整個項目。

**Q：如何判斷上下文是否足夠？**

A：如果 AI 的回答明顯偏離預期，很可能是上下文不足。補充相關信息後重試。
