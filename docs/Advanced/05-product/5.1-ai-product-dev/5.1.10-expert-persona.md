---
title: "5.1.10 把 AI 變成專家顧問——批判性專家角色"
typora-root-url: ../../public
---

# 5.1.10 把 AI 變成專家顧問——批判性專家角色

### 一句話破題

讓 AI 扮演**批判性專家**，它會從"挑毛病"的角度幫你發現問題。

### 爲什麼需要專家角色

默認情況下，AI 傾向於"順從"——你說什麼它就做什麼。但有時我們需要它"唱反調"：

- 找出代碼中的潛在問題
- 指出方案的風險和不足
- 提供不同的視角和建議

### 如何激活專家模式

**方法一：明確指定角色**

```
你現在是一位資深的後端架構師，有 10 年的 Node.js 和數據庫設計經驗。
請審查以下代碼，從性能、安全、可維護性三個角度給出批評意見。
不要客氣，儘管指出問題。

[你的代碼]
```

**方法二：要求提供反對意見**

```
我打算用這個方案實現用戶認證：[方案描述]

請扮演一位安全專家，列出這個方案可能存在的安全隱患，
以及在什麼場景下會出問題。
```

**方法三：多角色對話**

```
請分別從以下角色的角度評價這個 API 設計：
1. 前端開發者：調用是否方便？
2. 後端開發者：實現是否合理？
3. 運維工程師：是否容易監控和維護？
```

### 實戰示例

**場景**：你設計了一個用戶註冊 API，想讓 AI 幫忙審查

```
我設計了一個用戶註冊接口：

POST /api/users
Body: { email, password, name }

功能：
1. 驗證郵箱格式
2. 密碼 hash 後存儲
3. 返回創建的用戶信息

請你扮演一位安全顧問，告訴我這個設計有哪些安全隱患？
```

**AI 的專家視角回覆**：

```
作爲安全顧問，我發現以下問題：

1. 缺少速率限制
   - 風險：攻擊者可以暴力註冊大量賬號
   - 建議：限制每個 IP 每分鐘的註冊次數

2. 響應信息泄露
   - 風險：如果返回"郵箱已存在"，攻擊者可以枚舉已註冊用戶
   - 建議：統一返回"註冊失敗"，具體原因通過郵件告知

3. 缺少郵箱驗證
   - 風險：用戶可以使用他人郵箱註冊
   - 建議：發送驗證郵件，驗證後才激活賬號

4. 密碼強度未檢查
   - 風險：用戶可能設置弱密碼
   - 建議：要求密碼包含大小寫字母、數字，長度至少 8 位

5. 缺少 CSRF 保護
   - 風險：跨站請求可能僞造註冊
   - 建議：添加 CSRF Token 驗證
```

### 常用的專家角色

| 角色 | 關注點 | 適用場景 |
|------|--------|----------|
| **安全專家** | 安全漏洞、攻擊向量 | API 設計、認證流程 |
| **性能工程師** | 響應時間、資源佔用 | 數據庫查詢、算法設計 |
| **代碼審查員** | 可讀性、規範、最佳實踐 | 代碼提交前 |
| **用戶體驗師** | 交互流程、用戶感受 | 前端設計、流程設計 |
| **測試工程師** | 邊界情況、異常場景 | 功能完成後 |

### 專家模式的使用技巧

1. **明確專業領域**：不是泛泛的"專家"，而是"安全專家"、"性能專家"
2. **設定經驗背景**："10 年經驗的架構師"比"專家"更有說服力
3. **要求具體問題**："列出 5 個具體問題"比"看看有什麼問題"更有效
4. **鼓勵嚴格批評**："不要客氣"、"儘管批評"可以讓 AI 更直接

### 注意事項

- **專家意見僅供參考**：AI 可能會編造不存在的問題
- **驗證建議的正確性**：重要的安全建議要自己覈實
- **平衡批評與實際**：不是所有建議都需要採納，根據項目實際情況取捨
