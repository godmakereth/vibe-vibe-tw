---
title: "12.5 超大文件如何秒傳——文件分片傳輸：斷點續傳/完整性校驗"
typora-root-url: ../../public
---

# 12.5 超大文件如何秒傳——文件分片傳輸：斷點續傳/完整性校驗

### 一句話破題

大文件上傳的核心策略是"化整爲零"——把文件切成小塊分別傳輸，失敗了只需重傳失敗的塊，這就是斷點續傳和秒傳的原理。

### 核心價值

用戶上傳大文件時面臨的挑戰：

- **網絡中斷**：上傳到 99% 時斷網，一切重來？
- **超時問題**：單個請求傳輸幾 GB 數據容易超時
- **內存爆炸**：一次性加載大文件會撐爆瀏覽器內存
- **進度反饋**：用戶需要知道上傳進度

分片上傳解決所有這些問題。

### 本章導覽

```mermaid
graph LR
    A["分片上傳原理"] --> B["斷點續傳"]
    B --> C["完整性校驗"]
    C --> D["錯誤處理"]
    
    style A fill:#e3f2fd
    style D fill:#c8e6c9
```

1. **分片上傳原理**：將大文件切成小塊並行傳輸
2. **斷點續傳**：記錄進度，中斷後繼續
3. **完整性校驗**：確保傳輸的數據沒有損壞
4. **錯誤處理**：重試機制和用戶反饋

### 爲什麼 Vibe Coder 要學這個？

文件上傳是幾乎所有應用都需要的功能：

- 用戶頭像、文檔附件
- 視頻平臺的內容上傳
- 雲存儲服務
- 大模型訓練數據上傳

> **關鍵洞察**：雖然雲存儲服務（如 AWS S3、Cloudflare R2）提供了預簽名 URL 直傳，但理解分片上傳的原理能讓你在遇到問題時知道該如何調試。
