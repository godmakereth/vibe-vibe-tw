---
title: "3.8.1 鍵盤能不能用你的網站——可訪問性標準：WCAG 2.1 基礎要求"
typora-root-url: ../../public
---

# 3.8.1 WCAG 標準

### 一句話破題

WCAG 是可訪問性的"交規"，遵守它，你的網站就能讓更多人使用。

### 核心價值

WCAG (Web Content Accessibility Guidelines) 是 W3C 制定的可訪問性標準。滿足 WCAG 2.1 AA 級是大多數法規要求的最低標準。

### WCAG 四大原則

| 原則 | 含義 | 關鍵要求 |
|-----|------|---------|
| 可感知 | 用戶能感知到內容 | 圖片有替代文本、視頻有字幕 |
| 可操作 | 用戶能操作界面 | 鍵盤可訪問、有足夠時間 |
| 可理解 | 用戶能理解內容 | 語言清晰、行爲可預測 |
| 健壯性 | 兼容輔助技術 | 語義化 HTML、ARIA 屬性 |

### 鍵盤可訪問性

**核心要求**：所有功能必須能通過鍵盤操作。

```tsx
// 差：div 做按鈕，無法鍵盤訪問
<div onClick={handleClick}>點擊我</div>

// 好：使用原生 button
<button onClick={handleClick}>點擊我</button>

// 如果必須用 div，添加必要屬性
<div 
  role="button"
  tabIndex={0}
  onClick={handleClick}
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      handleClick()
    }
  }}
>
  點擊我
</div>
```

**焦點管理**：

```tsx
// 焦點可見
.focus-visible:focus {
  outline: 2px solid #2563eb;
  outline-offset: 2px;
}

// 跳過導航鏈接
<a href="#main" className="sr-only focus:not-sr-only">
  跳轉到主要內容
</a>

<main id="main">...</main>
```

### 語義化 HTML

```tsx
// 差：div 嵌套一切
<div class="nav">
  <div class="nav-item">首頁</div>
</div>
<div class="main">
  <div class="title">文章標題</div>
</div>

// 好：語義化標籤
<nav>
  <a href="/">首頁</a>
</nav>
<main>
  <h1>文章標題</h1>
  <article>...</article>
</main>
```

### ARIA 屬性

當語義化 HTML 不夠時，使用 ARIA：

```tsx
// 模態框
<div
  role="dialog"
  aria-labelledby="dialog-title"
  aria-describedby="dialog-description"
  aria-modal="true"
>
  <h2 id="dialog-title">確認刪除</h2>
  <p id="dialog-description">刪除後無法恢復，確定嗎？</p>
  <button>確定</button>
  <button>取消</button>
</div>

// 加載狀態
<button aria-busy={isLoading} disabled={isLoading}>
  {isLoading ? '保存中...' : '保存'}
</button>

// 展開/收起
<button 
  aria-expanded={isOpen}
  aria-controls="menu-content"
>
  菜單
</button>
<div id="menu-content" hidden={!isOpen}>
  ...
</div>
```

### 常用 ARIA 屬性

| 屬性 | 用途 | 示例 |
|-----|------|-----|
| `aria-label` | 爲元素提供標籤 | `<button aria-label="關閉">X</button>` |
| `aria-labelledby` | 引用另一元素作爲標籤 | `aria-labelledby="title"` |
| `aria-describedby` | 引用描述性文本 | `aria-describedby="help-text"` |
| `aria-hidden` | 對輔助技術隱藏 | `<div aria-hidden="true">裝飾性內容</div>` |
| `aria-live` | 動態內容區域 | `<div aria-live="polite">` |
| `role` | 定義元素角色 | `role="button"` |

### 圖片替代文本

```tsx
// 信息性圖片：描述內容
<img 
  src="/chart.png" 
  alt="2024年銷售額增長趨勢圖，Q1到Q4分別爲100萬、150萬、200萬、280萬"
/>

// 裝飾性圖片：空 alt
<img src="/decorative-line.png" alt="" />

// 功能性圖片：描述功能
<button>
  <img src="/search-icon.svg" alt="搜索" />
</button>
```

### 表單可訪問性

```tsx
// 關聯 label 和 input
<div>
  <label htmlFor="email">郵箱地址</label>
  <input 
    id="email" 
    type="email" 
    aria-describedby="email-help"
    aria-invalid={!!errors.email}
  />
  <p id="email-help">我們不會分享你的郵箱</p>
  {errors.email && (
    <p role="alert" className="text-red-500">
      {errors.email}
    </p>
  )}
</div>

// 必填字段
<label>
  郵箱 <span aria-hidden="true">*</span>
  <span className="sr-only">（必填）</span>
</label>
<input required aria-required="true" />
```

### 屏幕閱讀器隱藏類

```css
/* 視覺隱藏但屏幕閱讀器可讀 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* 聚焦時顯示 */
.sr-only.focus:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
```

### 測試工具

| 工具 | 用途 |
|-----|------|
| axe DevTools | Chrome 擴展，自動檢測問題 |
| Lighthouse | Chrome 內置，審計報告 |
| WAVE | 在線檢測工具 |
| VoiceOver | macOS 內置屏幕閱讀器 |
| NVDA | Windows 免費屏幕閱讀器 |

```tsx
// 使用 eslint-plugin-jsx-a11y 自動檢測
// .eslintrc.js
module.exports = {
  extends: ['plugin:jsx-a11y/recommended'],
}
```

### AI 協作指南

**核心意圖**：讓 AI 幫你檢查和修復可訪問性問題。

**需求定義公式**：
- 檢查範圍：[組件/頁面] 的可訪問性
- 標準級別：WCAG 2.1 [A/AA/AAA]
- 關注點：[鍵盤/屏幕閱讀器/顏色對比度]

**示例 Prompt**：

```
請檢查這個模態框組件的可訪問性：
1. 確保鍵盤可以打開、關閉、在內部導航
2. 添加正確的 ARIA 屬性
3. 打開時焦點移入，關閉時焦點返回觸發元素
4. ESC 鍵可關閉
```

### 驗收清單

- [ ] 所有功能可通過鍵盤操作
- [ ] 焦點狀態清晰可見
- [ ] 圖片有合適的替代文本
- [ ] 表單有關聯的標籤
- [ ] 使用語義化 HTML
- [ ] 通過 axe/Lighthouse 檢測
