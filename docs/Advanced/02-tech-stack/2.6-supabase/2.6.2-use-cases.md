---
title: "2.6.2 ä»€éº¼æ™‚å€™è©²ç”¨å®ƒâ€”â€”é©ç”¨å ´æ™¯ï¼šå¿«é€ŸåŸå‹ vs ç”Ÿç”¢ç’°å¢ƒ"
typora-root-url: ../../public
---

# 2.6.2 é©ç”¨å ´æ™¯ï¼šå¿«é€ŸåŸå‹ vs ç”Ÿç”¢ç’°å¢ƒ

## ä¸€å¥è©±ç ´é¡Œ

Supabase åœ¨"å¿«é€Ÿä¸Šç·š"å ´æ™¯ä¸‹ç„¡å¯åŒ¹æ•µï¼Œä½†åˆ°äº†"æ·±åº¦å®šè£½"éšæ®µå°±è¦æ…é‡è€ƒæ…®äº†ã€‚

## å ´æ™¯æ±ºç­–çŸ©é™£

```mermaid
flowchart LR
    subgraph Green["âœ… å¼·çƒˆæ¨è–¦"]
        A["é»‘å®¢æ¾é …ç›®"]
        B["MVP é©—è­‰"]
        C["å€‹äººé …ç›®"]
        D["å…§éƒ¨å·¥å…·"]
    end
    
    subgraph Yellow["âš ï¸ å¯ä»¥è€ƒæ…®"]
        E["å°å‹ SaaS"]
        F["å°åœ˜éšŠç”¢å“"]
        G["å³æ™‚æ‡‰ç”¨"]
    end
    
    subgraph Red["âŒ ä¸å¤ªæ¨è–¦"]
        H["å¤§å‹ä¼æ¥­æ‡‰ç”¨"]
        I["é«˜åˆè¦è¦æ±‚"]
        J["è¤‡é›œæ¥­å‹™é‚è¼¯"]
    end
```

## âœ… å¼·çƒˆæ¨è–¦çš„å ´æ™¯

### 1. é»‘å®¢æ¾ / 48å°æ™‚æ¯”è³½

```typescript
// 10 åˆ†é˜æ­å»ºå®Œæ•´å¾Œç«¯
// 1. å‰µå»ºé …ç›®ï¼ˆsupabase.comï¼‰
// 2. å»ºè¡¨ï¼ˆå¯è¦–åŒ–ç•Œé¢ï¼‰
// 3. å¯«ä»£ç¢¼

const { data } = await supabase
  .from('submissions')
  .insert({ name, idea, team_id })
  .select()

// å®Œæˆï¼ä¸ç”¨é…ç½®æ•¸æ“šåº«ã€ä¸ç”¨å¯« API
```

**çˆ²ä»€éº¼é©åˆ**ï¼šæ™‚é–“ç·Šè¿«ï¼Œé©—è­‰æƒ³æ³•æ¯”ä»£ç¢¼è³ªé‡é‡è¦ã€‚

### 2. MVP ç”¢å“é©—è­‰

| éšæ®µ | ç”¨ Supabase | å‚³çµ±æ–¹å¼ |
|------|-------------|----------|
| æ­å»ºå¾Œç«¯ | 1 å¤© | 1-2 å‘¨ |
| ç”¨æˆ¶èªè­‰ | 30 åˆ†é˜ | 2-3 å¤© |
| æ–‡ä»¶ä¸Šå‚³ | 1 å°æ™‚ | 1-2 å¤© |
| **ç¸½è¨ˆ** | **1-2 å¤©** | **2-3 å‘¨** |

**æ ¸å¿ƒåƒ¹å€¼**ï¼šå¿«é€Ÿé©—è­‰ç”¢å“å‡è¨­ï¼Œå¤±æ•—äº†æå¤±æœ€å°ã€‚

### 3. å€‹äººé …ç›® / Side Project

```typescript
// å€‹äººåšå®¢ã€ç­†è¨˜æ‡‰ç”¨ã€TODO å·¥å…·ç­‰
// å…è²»é¡åº¦å®Œå…¨å¤ ç”¨ï¼š
// - 500MB æ•¸æ“šåº«
// - 1GB æ–‡ä»¶å­˜å„²
// - 200 ä½µç™¼é€£æ¥
```

### 4. å…§éƒ¨å·¥å…·

- å¾Œè‡ºç®¡ç†ç³»çµ±
- æ•¸æ“šçœ‹æ¿
- åœ˜éšŠå”ä½œå·¥å…·

**å„ªå‹¢**ï¼šç”¨æˆ¶é‡å¯æ§ï¼Œå…è²»é¡åº¦å¤ ç”¨ï¼Œå¿«é€Ÿè¿­ä»£ã€‚

## âš ï¸ å¯ä»¥è€ƒæ…®çš„å ´æ™¯

### å°å‹ SaaS ç”¢å“

```mermaid
flowchart TD
    Start["å°å‹ SaaS"] --> Q1{"ç”¨æˆ¶é‡é æœŸ?"}
    Q1 -->|"< 1000 MAU"| OK["âœ… Supabase å¤ ç”¨"]
    Q1 -->|"1000-10000 MAU"| Pro["ğŸ’° éœ€è¦ Pro è¨ˆåŠƒ"]
    Q1 -->|"> 10000 MAU"| Consider["âš ï¸ è©•ä¼°æˆæœ¬"]
```

### å³æ™‚å”ä½œæ‡‰ç”¨

```typescript
// Supabase Realtime é–‹ç®±å³ç”¨
const channel = supabase
  .channel('room:123')
  .on('broadcast', { event: 'cursor' }, (payload) => {
    updateCursor(payload.userId, payload.position)
  })
  .subscribe()

// å»£æ’­é¼ æ¨™ä½ç½®
channel.send({
  type: 'broadcast',
  event: 'cursor',
  payload: { userId, position },
})
```

**æ³¨æ„**ï¼šå…è²»ç‰ˆé™åˆ¶ 200 ä½µç™¼é€£æ¥ã€‚

## âŒ ä¸å¤ªæ¨è–¦çš„å ´æ™¯

### 1. è¤‡é›œæ¥­å‹™é‚è¼¯

```typescript
// âŒ è¤‡é›œæ¥­å‹™è¦å‰‡é›£ä»¥ç”¨ RLS è¡¨é”
// ä¾‹å¦‚ï¼šå¤šç´šå¯©æ‰¹ã€å‹•æ…‹æ¬Šé™ã€è¤‡é›œè¨ˆè²»è¦å‰‡

// é€™ç¨®é‚è¼¯æ”¾åœ¨ Supabase RLS è£æœƒå¾ˆç—›è‹¦
// å»ºè­°ä½¿ç”¨å‚³çµ±å¾Œç«¯ + æ¥­å‹™å±¤
```

### 2. é«˜åˆè¦è¦æ±‚

| è¦æ±‚ | Supabase æ”¯æŒ |
|------|---------------|
| æ•¸æ“šæœ¬åœ°åŒ– | âš ï¸ æœ‰é™ï¼ˆéƒ¨åˆ†å€åŸŸï¼‰ |
| å¯©è¨ˆæ—¥èªŒ | âš ï¸ éœ€è¦é¡å¤–é…ç½® |
| HIPAA | âŒ éœ€è¦ä¼æ¥­ç‰ˆ |
| PCI DSS | âŒ ä¸æ”¯æŒ |

### 3. å·²æœ‰æˆç†ŸåŸºç¤è¨­æ–½

```
å¦‚æœä½ å·²ç¶“æœ‰ï¼š
- é‹ç¶­åœ˜éšŠ
- CI/CD æµç¨‹
- ç›£æ§å‘Šè­¦
- è‡ªå»ºèªè­‰ç³»çµ±

é‚£éº¼ Supabase çš„åƒ¹å€¼å°±æ²’é‚£éº¼å¤§äº†
```

## æ··åˆæ–¹æ¡ˆ

### Supabase + è‡ªå»ºå¾Œç«¯

```mermaid
flowchart LR
    Client["å®¢æˆ¶ç«¯"]
    
    subgraph Supabase
        Auth["èªè­‰"]
        Storage["å­˜å„²"]
    end
    
    subgraph Custom["è‡ªå»ºå¾Œç«¯"]
        API["API æœå‹™"]
        BL["æ¥­å‹™é‚è¼¯"]
        DB["è‡ªå»ºæ•¸æ“šåº«"]
    end
    
    Client --> Auth
    Client --> Storage
    Client --> API
    API --> BL --> DB
```

```typescript
// åªç”¨ Supabase çš„ Auth å’Œ Storage
// æ¥­å‹™é‚è¼¯èµ°è‡ªå»ºå¾Œç«¯

// 1. ç”¨ Supabase ç™»éŒ„
const { data: { session } } = await supabase.auth.getSession()

// 2. èª¿ç”¨è‡ªå»º APIï¼ˆå¸¶ä¸Š tokenï¼‰
const response = await fetch('/api/orders', {
  headers: {
    Authorization: `Bearer ${session?.access_token}`,
  },
})

// 3. è‡ªå»ºå¾Œç«¯é©—è­‰ Supabase JWT
import { createClient } from '@supabase/supabase-js'
const { data: { user } } = await supabase.auth.getUser(token)
```

## è¦ºçŸ¥ï¼šå ´æ™¯é¸æ“‡å¸¸è¦‹èª¤å€

### 1. "å…è²»å°±ç”¨ Supabase"

```
âŒ éŒ¯èª¤èªçŸ¥ï¼šå› çˆ²å…è²»æ‰€ä»¥ç”¨
âœ… æ­£ç¢ºæ€è€ƒï¼šå› çˆ²é©åˆå ´æ™¯æ‰€ä»¥ç”¨

å³ä½¿ Supabase æ”¶è²»ï¼Œå¦‚æœèƒ½å¹«ä½ ç¯€çœ 2 å‘¨é–‹ç™¼æ™‚é–“ï¼Œ
é‚£ä¹Ÿæ˜¯å€¼å¾—çš„ã€‚
```

### 2. "ç”Ÿç”¢ç’°å¢ƒä¸èƒ½ç”¨ BaaS"

```
âŒ éŒ¯èª¤èªçŸ¥ï¼šBaaS åªèƒ½åšåŸå‹
âœ… ç¾å¯¦æƒ…æ³ï¼š

å¾ˆå¤šå…¬å¸ç”¨ Supabase è·‘ç”Ÿç”¢ï¼š
- ç”¨æˆ¶é‡ä¸å¤§çš„ SaaS
- å…§éƒ¨å·¥å…·
- ç‰¹å®šæ¨¡å¡Šï¼ˆèªè­‰ã€å­˜å„²ï¼‰
```

### 3. "ä»¥å¾Œè‚¯å®šè¦é·ç§»ï¼Œä¸å¦‚ç¾åœ¨è‡ªå»º"

```
âŒ éæ—©å„ªåŒ–
âœ… YAGNI åŸå‰‡

å¦‚æœé …ç›®å¯èƒ½å¤±æ•—ï¼Œå…ˆé©—è­‰å†å„ªåŒ–ã€‚
é·ç§»æˆæœ¬ < é©—è­‰å¤±æ•—çš„æ™‚é–“æˆæœ¬ã€‚
```

## æœ¬ç¯€å°çµ

| å ´æ™¯ | æ¨è–¦åº¦ | ç†ç”± |
|------|--------|------|
| é»‘å®¢æ¾/MVP | â­â­â­â­â­ | é€Ÿåº¦ç¬¬ä¸€ |
| å€‹äººé …ç›® | â­â­â­â­â­ | å…è²»å¤ ç”¨ |
| å°å‹ SaaS | â­â­â­â­ | æˆæœ¬å¯æ§ |
| å³æ™‚æ‡‰ç”¨ | â­â­â­â­ | é–‹ç®±å³ç”¨ |
| è¤‡é›œæ¥­å‹™ | â­â­ | å®šè£½å›°é›£ |
| ä¼æ¥­æ‡‰ç”¨ | â­ | åˆè¦å•é¡Œ |
