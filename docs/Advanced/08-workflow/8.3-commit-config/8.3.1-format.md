---
title: "8.3.1 提交信息的標準格式——提交格式：type: description"
typora-root-url: ../../public
---

# 8.3.1 提交信息的標準格式

Conventional Commits 規範定義了一套結構化的提交信息格式，讓人和機器都能輕鬆理解。

## 完整格式

```
<type>(<scope>): <subject>
<空行>
<body>
<空行>
<footer>
```

### 各部分詳解

#### 1. Header（必需）

```
<type>(<scope>): <subject>
```

| 部分 | 必需 | 說明 |
|------|------|------|
| type | 是 | 變更類型 |
| scope | 否 | 影響範圍 |
| subject | 是 | 簡短描述（50 字符以內） |

**示例**：
```bash
feat(auth): 添加用戶註冊功能
fix: 修復首頁加載失敗的問題
docs(readme): 更新安裝說明
```

#### 2. Body（可選）

詳細描述變更的動機和實現方式：

```
feat(auth): 添加用戶註冊功能

- 實現郵箱註冊流程
- 添加郵箱驗證碼發送
- 集成 Supabase Auth

使用 Supabase Auth 替代自建認證系統，
降低維護成本，提升安全性。
```

**Body 編寫規範**：
- 使用空行與 Header 分隔
- 解釋"是什麼"和"爲什麼"，而非"怎麼做"
- 每行不超過 72 個字符

#### 3. Footer（可選）

用於關聯 Issue 或標註破壞性變更：

```
feat(api)!: 重構用戶認證接口

BREAKING CHANGE: 認證接口從 /api/auth 遷移到 /api/v2/auth
舊接口將在下個版本移除

Closes #123, #456
```

**常用 Footer**：
- `Closes #123` - 關閉 Issue
- `Refs #456` - 引用相關 Issue
- `BREAKING CHANGE:` - 破壞性變更說明

## 破壞性變更

當提交包含破壞性變更時，有兩種標記方式：

```bash
# 方式1：在 type 後加 !
feat(api)!: 移除廢棄的 v1 接口

# 方式2：在 footer 中說明
feat(api): 重構認證系統

BREAKING CHANGE: 需要重新配置環境變量
```

## 示例集合

### 功能開發

```bash
# 簡單功能
git commit -m "feat: 添加暗黑模式切換"

# 帶 scope
git commit -m "feat(ui): 添加用戶頭像上傳組件"

# 帶 body
git commit -m "feat(auth): 實現 JWT 刷新機制

- access token 有效期 15 分鐘
- refresh token 有效期 7 天
- 自動刷新邏輯封裝在 axios 攔截器中"
```

### Bug 修復

```bash
# 簡單修復
git commit -m "fix: 修復登錄按鈕點擊無響應"

# 帶關聯 Issue
git commit -m "fix(cart): 修復購物車數量計算錯誤

修復當商品數量爲 0 時，總價顯示 NaN 的問題

Fixes #789"
```

### 其他類型

```bash
# 文檔
git commit -m "docs: 添加 API 使用說明"

# 重構
git commit -m "refactor: 提取公共驗證邏輯到 utils"

# 樣式
git commit -m "style: 統一代碼縮進爲 2 空格"

# 測試
git commit -m "test: 添加用戶服務單元測試"

# 構建
git commit -m "build: 升級 Next.js 到 14.0"

# CI
git commit -m "ci: 添加自動化部署 workflow"

# 雜項
git commit -m "chore: 更新依賴版本"
```

## AI 協作指南

讓 AI 幫你生成規範的提交信息：

**示例 Prompt**：
> "我修改了 src/components/UserCard.tsx，添加了用戶頭像顯示功能，並修復了名稱過長時的文字溢出問題。請幫我生成符合 Conventional Commits 規範的提交信息。"

## 驗收清單

- [ ] 理解 Header、Body、Footer 的作用
- [ ] 能正確使用 scope 標註影響範圍
- [ ] 知道如何標記破壞性變更
- [ ] 能編寫清晰的 Body 說明
